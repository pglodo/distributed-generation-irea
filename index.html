<!DOCTYPE html>
<html>

<head>
  <meta charset=utf-8 />
  <title>IREA Distributed Generation</title>
  <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
  <!-- loading Assembly CSS here -->
  <link href='https://api.mapbox.com/mapbox-assembly/v0.23.1/assembly.min.css' rel='stylesheet'>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css" />
  <link rel="stylesheet" href="css/styles.css">
</head>

<body>
  <!-- loading Assembly JS here -->
  <script async defer src="https://api.mapbox.com/mapbox-assembly/v0.21.2/assembly.js"></script>

  <div class='flex-parent viewport-full relative scroll-hidden'>
    <div class='flex-child w-full w360-ml absolute static-ml left bottom'>
      <div class='flex-parent flex-parent--column viewport-third h-full hmax-full bg-white py18 px12'>
        <div class='flex-child flex-child--grow px12 py12 scroll-auto'>
          <h1 class='txt-h1 mb6'>Distributed Generation at IREA</h1>
          <p>Intermountain Rural Electric Association (IREA) is an electric distribution cooperative that covers quite a vast territory in central Colorado, spanning from the plains east of Denver deep into Rocky Mountains. Many customers choose to attach alternative power sources to their service meter, which in turn provides a source of power generation for the rest of the attached network as 'distributed generation'. On this map, each distributed generation source is shown as a colored dot, sized proportionately to it's power output. This output compounds on the network of the location's respective substation. Because of this, the substation locations are displayed with sizes proportionate to their network's total generation potential. Not all substations have distributed generation sources on their network, so they are displayed as a very faint grey dot.</p>
          <h2 class='txt-xl mt18 mb12'>About the project</h2>
          <p>This map incorporates many of the web development skills that I've learned throughout the New Maps Plus program at the University of Kentucky. To start, a map viewer window and information pane were made using HTML and CSS (relying on Assembly.css for some formatting and styling). The geoJSON data was then loaded to the page using an AJAX request. This data was then processed with JavaScript and displayed on the map as Leaflet layers. Further design of the legend was completed using jQuery, and user interaction was developed further with JavaScript!</p>
        </div>
        <footer class='px12 py12 bg-gray-faint txt-s'>
          <ul>
            <li>Additional info about IREA
              <a class='link' href='https://irea.coop/'>here</a>.
            </li>
            <li>Map authored by
              <a class='link' href='https://github.com/pglodo'>Phillip Glodowski</a>
            </li>
          </ul>
        </footer>
      </div>
    </div>

    <div class='flex-child flex-child--grow viewport-twothirds viewport-full-ml'>
      <div id="map" class='viewport-twothirds viewport-full-ml'></div>
    </div>
  </div>

  <div id='legend' class='grid bg-white round-ml pl18 pr30 py12 wmax240 shadow-darken25'>
    <h3 class='txt-bold txt-h5 mb36 w-full mx-auto'>Generation Quantity (kW)</h3>
    <div class='col--6 legend-sub-circles'>
      <div class="legend-large-sub legend-radius border absolute">
        <div class="legend-small-sub legend-radius border absolute"></div>
      </div>
      <div class="legend-large-sub-label legend-label absolute"></div>
      <div class="legend-small-sub-label legend-label absolute"></div>
      <div class="legend-sub-title legend-title absolute txt-bold"></div>
    </div>
    <div class='col--6 legend-loc-circles'>
      <div class="legend-large-loc legend-radius border absolute">
        <div class="legend-small-loc legend-radius border absolute"></div>
      </div>
      <div class="legend-large-loc-label legend-label txt-m absolute"></div>
      <div class="legend-small-loc-label legend-label txt-m absolute"></div>
      <div class="legend-loc-title legend-title absolute txt-bold"></div>
    </div>
  </div>

  <div id='info' class='py6 px12 bg-white border border--gray-light round absolute mt12 mr120 top right w240 shadow-darken25'>
    <p class="subName">Substation:
      <span></span>
    </p>
    <p class="subTotal">Total distributed generation:
      <span></span>
    </p>
  </div>

  <button type="button" id='locate' class='py12 px18 round-ml shadow-darken25'>
    <p class='color-gray-faint'>My Location</p>
  </button>


  <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"></script>
  <script src='js/app.js'></script>

</body>

</html>
